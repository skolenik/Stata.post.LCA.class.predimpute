. frame change default
{\smallskip}
. cap frame nhanes2: clear
{\smallskip}
. cap frame drop nhanes2
{\smallskip}
. frame create nhanes2
{\smallskip}
. frame change nhanes2
{\smallskip}
. 
. webuse nhanes2.dta, clear
{\smallskip}
. svyset
{\smallskip}
Sampling weights: finalwgt
             VCE: linearized
     Single unit: missing
        Strata 1: strata
 Sampling unit 1: psu
           FPC 1: <zero>
{\smallskip}
. svy , subpop(if hlthstat<8) : ///
>         gsem ///
>                 (heartatk diabetes highbp <-, logit) ///
>                 (hlthstat <-, ologit) /// 
>         , lclass(C 2) nolog  startvalues(randomid, draws(5) seed(101)) 
(running {\bftt{gsem}} on estimation sample)
{\smallskip}
Survey: Generalized structural equation model
{\smallskip}
Number of strata = 31                            Number of obs   =      10,351
Number of PSUs   = 62                            Population size = 117,157,513
                                                 Subpop. no. obs =      10,335
                                                 Subpop. size    = 116,997,257
                                                 Design df       =          31
{\smallskip}
\HLI{13}{\TOPT}\HLI{64}
             {\VBAR}             Linearized
             {\VBAR} Coefficient  std. err.      t    P>|t|     [95\% conf. interval]
\HLI{13}{\PLUS}\HLI{64}
1.C          {\VBAR}  (base outcome)
\HLI{13}{\PLUS}\HLI{64}
2.C          {\VBAR}
       _cons {\VBAR}   1.330043   .1259401    10.56   0.000     1.073186    1.586899
\HLI{13}{\BOTT}\HLI{64}
{\smallskip}
Class:    1        
{\smallskip}
Response: heartatk                                      Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: diabetes                                      Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: highbp                                        Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: hlthstat                                      Number of obs = 10,335
Family:   Ordinal  
Link:     Logit    
{\smallskip}
\HLI{13}{\TOPT}\HLI{64}
             {\VBAR}             Linearized
             {\VBAR} Coefficient  std. err.      t    P>|t|     [95\% conf. interval]
\HLI{13}{\PLUS}\HLI{64}
heartatk     {\VBAR}
       _cons {\VBAR}  -1.874967   .1150791   -16.29   0.000    -2.109672   -1.640261
\HLI{13}{\PLUS}\HLI{64}
diabetes     {\VBAR}
       _cons {\VBAR}  -1.785271   .0805057   -22.18   0.000    -1.949463   -1.621078
\HLI{13}{\PLUS}\HLI{64}
highbp       {\VBAR}
       _cons {\VBAR}   .4244921    .076861     5.52   0.000     .2677332    .5812511
\HLI{13}{\PLUS}\HLI{64}
/hlthstat    {\VBAR}
        cut1 {\VBAR}  -3.659014   .8903346                     -5.474863   -1.843165
        cut2 {\VBAR}  -2.272516   .4402984                      -3.17051   -1.374521
        cut3 {\VBAR}  -.2566588   .2032721                      -.671235    .1579173
        cut4 {\VBAR}   1.229244   .1951641                      .8312038    1.627283
\HLI{13}{\BOTT}\HLI{64}
{\smallskip}
Class:    2        
{\smallskip}
Response: heartatk                                      Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: diabetes                                      Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: highbp                                        Number of obs = 10,335
Family:   Bernoulli
Link:     Logit    
{\smallskip}
Response: hlthstat                                      Number of obs = 10,335
Family:   Ordinal  
Link:     Logit    
{\smallskip}
\HLI{13}{\TOPT}\HLI{64}
             {\VBAR}             Linearized
             {\VBAR} Coefficient  std. err.      t    P>|t|     [95\% conf. interval]
\HLI{13}{\PLUS}\HLI{64}
heartatk     {\VBAR}
       _cons {\VBAR}  -6.081307   .6280801    -9.68   0.000    -7.362285   -4.800329
\HLI{13}{\PLUS}\HLI{64}
diabetes     {\VBAR}
       _cons {\VBAR}  -5.223215   .6044468    -8.64   0.000    -6.455993   -3.990438
\HLI{13}{\PLUS}\HLI{64}
highbp       {\VBAR}
       _cons {\VBAR}  -.8166105   .0750027   -10.89   0.000    -.9695795   -.6636415
\HLI{13}{\PLUS}\HLI{64}
/hlthstat    {\VBAR}
        cut1 {\VBAR}   -.657824   .0483113                     -.7563555   -.5592926
        cut2 {\VBAR}   .7123144   .0649814                      .5797839    .8448448
        cut3 {\VBAR}   2.647239   .1192958                      2.403934    2.890544
        cut4 {\VBAR}   24.64389    14.1421                     -4.199113    53.48689
\HLI{13}{\BOTT}\HLI{64}
{\smallskip}
. set rmsg on     
r; t=0.00 14:46:16
{\smallskip}
. estat lcprob
{\smallskip}
Latent class marginal probabilities
{\smallskip}
Number of strata = 31                            Number of obs   =      10,351
Number of PSUs   = 62                            Population size = 117,157,513
                                                 Design df       =          31
{\smallskip}
\HLI{13}{\TOPT}\HLI{48}
             {\VBAR}            Delta-method
             {\VBAR}     Margin   std. err.     [95\% conf. interval]
\HLI{13}{\PLUS}\HLI{48}
           C {\VBAR}
          1  {\VBAR}   .2091523   .0208315      .1698206    .2547976
          2  {\VBAR}   .7908477   .0208315      .7452024    .8301794
\HLI{13}{\BOTT}\HLI{48}
r; t=10.03 14:46:26
{\smallskip}
. estat lcmean
{\smallskip}
Latent class marginal means
{\smallskip}
Number of strata = 31                            Number of obs   =      10,351
Number of PSUs   = 62                            Population size = 117,157,513
                                                 Design df       =          31
{\smallskip}
\HLI{13}{\TOPT}\HLI{48}
             {\VBAR}            Delta-method
             {\VBAR}     Margin   std. err.     [95\% conf. interval]
\HLI{13}{\PLUS}\HLI{48}
1            {\VBAR}
    heartatk {\VBAR}   .1329681   .0132672      .1081603    .1624295
    diabetes {\VBAR}   .1436535   .0099036      .1246119    .1650562
      highbp {\VBAR}   .6045577    .018375      .5665363    .6413552
             {\VBAR}
    hlthstat {\VBAR}
  Excellent  {\VBAR}   .0251111   .0217959      .0041733    .1366775
  Very good  {\VBAR}   .0683138    .021455      .0355579     .127263
       Good  {\VBAR}   .3427603   .0254834      .2928195    .3964437
       Fair  {\VBAR}   .3375009   .0210993      .2958981    .3817814
       Poor  {\VBAR}   .2263139   .0341724      .1642029    .3033906
\HLI{13}{\PLUS}\HLI{48}
2            {\VBAR}
    heartatk {\VBAR}     .00228   .0014287      .0006343    .0081599
    diabetes {\VBAR}   .0053611   .0032231      .0015686    .0181559
      highbp {\VBAR}   .3064836   .0159419      .2749643    .3399221
             {\VBAR}
    hlthstat {\VBAR}
  Excellent  {\VBAR}   .3412286     .01086       .319438    .3637112
  Very good  {\VBAR}   .3296838   .0082507      .3130796     .346724
       Good  {\VBAR}   .2629283   .0094265      .2441597    .2826002
       Fair  {\VBAR}   .0661594   .0073704       .052623    .0828732
       Poor  {\VBAR}   1.98e-11   2.81e-10      5.68e-24    .9857545
\HLI{13}{\BOTT}\HLI{48}
r; t=80.58 14:47:47
{\smallskip}
. set rmsg off    
{\smallskip}
